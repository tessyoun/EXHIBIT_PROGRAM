<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/variable/pretendardvariable.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous" />

    <link rel="stylesheet" href="{% static 'css/bass.css' %}" />      
    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}" />
    <link rel="stylesheet" href="{% static 'css/FAQ.css' %}" />    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <title>자주 묻는 질문</title>
</head>
<body> 
    <!-- 헤더/사이드바 -->
    <div data-include-path="{% static 'base/header.html' %}"></div>
    <div data-include-path="{% static 'base/sidebar.html' %}"></div>
    <!-- end 헤더/사이드바 -->
    <!-- html header, sidebar 상속 -->
    <script>
        window.addEventListener('load', function() {
            var allElements = document.getElementsByTagName('*');
            Array.prototype.forEach.call(allElements, function(el) {
                var includePath = el.getAttribute('data-include-path');
                var xhttp = new XMLHttpRequest();

                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        // 서버에서 받아온 HTML을 해당 요소의 innerHTML로 설정
                        document.getElementById('includedContent').innerHTML = this.responseText;
                        
                        // 추가된 HTML 안의 버튼에 이벤트 리스너 추가
                        var includedElement = document.querySelector('[data-include-path="' + includePath + '"]');
                        if (includedElement) {
                            var buttons = includedElement.querySelectorAll('.included-button');
                            buttons.forEach(function(button) {
                                button.addEventListener('click', function() {
                                    alert('Button clicked in included content!');
                                    // 클릭된 버튼에 대한 동작 추가
                                });
                            });
                        }
                        xhttp.open('GET', includePath, true);
                    xhttp.send();
                    }
                };
                    
                });
            });
    </script>

    <!-- FAQ Section -->
    <div id="faq-section">
        <h2>자주 묻는 질문</h2>

        <div class="search-section"> 
            <button class="search-btn" onclick="searchFAQs()"><i class="fa-solid fa-magnifying-glass" style="color: #c9c9c9;"></i></button>
            <input type="text" id="searchInput" onkeyup="searchFAQs()" placeholder="무엇이든 물어보세요">
        </div>

        <div class="faq-main-wrap">
            <ul class = "faq-first-tag">
                <li class = "first-tag-item">
                    <a href= "javascript:void(0);" onclick= "filterCustomer('개인', this)" class = "on"> <span>개인</span> </a>
                </li>
                <li class = "first-tag-item">
                    <a href= "javascript:void(0);" onclick= "filterCustomer('기업', this)"> <span>기업</span> </a>
                </li>
            </ul>

            <div id="categoryNav"></div>

            <div class="accordion" id="accordionExample">
                {% for faq in faqs %}
                <div class="accordion-item is_faq" data-customer="{{ faq.qacust }}" data-category="{{ faq.qacat }}">
                    <h2 class="accordion-header" id="heading{{ forloop.counter }}">
                        <button class="accordion-button {% if not forloop.first %}collapsed{% endif %}" type="button" data-bs-toggle="collapse" data-bs-target="#collapse{{ forloop.counter }}" aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}" aria-controls="collapse{{ forloop.counter }}">
                            <span style="white-space: nowrap;">{{ faq.qacat }}&nbsp;&nbsp;&nbsp;&nbsp;</span><strong>{{ faq.question }}?</strong>
                        </button>
                    </h2>
                    <div id="collapse{{ forloop.counter }}" class="accordion-collapse collapse {% if forloop.first %}show{% endif %}" aria-labelledby="heading{{ forloop.counter }}" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            {{ faq.answer }}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            
        </div>
    </div>
    <!-- End FAQ Section -->





<script src="{% static 'js/faqlist.js' %}"></script> <!-- FAQ js -->
<script src="{% static 'js/uiSidebar.js' %}"></script> <!-- sidebar js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
    crossorigin="anonymous"></script>


</body>
</html>
