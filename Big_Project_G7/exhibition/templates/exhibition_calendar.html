<!DOCTYPE html>
{% load static %}
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/base.css' %}" />      
    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}" />     
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <title>전시회 달력</title>
    <!-- Include FullCalendar CSS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/custom.css' %}" /> <!-- 별도의 CSS 파일 추가 -->
    <style>
        .container {
            display: flex;
            flex-direction: column;
            align-items: flex-end; /* 모든 요소를 오른쪽 정렬 */
        }
        .exhibitions {
            width: 100%; /* 전시회 영역 전체 너비 */
        }
        .exhibition-card {
            width: calc(100%);
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            background-color: #f9f9f9;
            cursor: pointer;
            box-sizing: border-box;
        }
        .exhibition-card a {
            text-decoration: none;
            color: #007BFF;
        }
        .toggle-calendar-button {
            position: absolute; /* 절대 위치 */
            top: 20px; /* 상단 여백 */
            right: 20px; /* 우측 여백 */
            cursor: pointer;
            background-color: #007BFF;
            color: #fff;
            padding: 10px;
            border-radius: 5px;
        }
        .calendar-container {
            position: absolute; /* 절대 위치 */
            z-index: 1000; /* 다른 요소들보다 위에 표시 */
            background-color: #fff;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            width: 50%; /* 달력 컨테이너 너비 */
            height: 80%; /* 달력 컨테이너 높이 */
        }
        #calendar {
            width: 100%;
            height: 100%;
        }
        .fc-today-button {
            background-color: #007BFF;
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            margin-right: 10px; /* 오른쪽 여백 */
            cursor: pointer;
        }
        .fc-button-group {
            margin-bottom: 10px; /* 버튼 그룹 아래 여백 */
        }
        .fc-today {
            background-color: #f0f0f0; /* 오늘 날짜 색상 */
            border-radius: 50%; /* 원형 모양으로 */
        }
    </style>
</head>
<body>
    <!-- 헤더 부분 -->
    <div class="header-sub">
        <button class= "header__button--menu header__button--menu-black icon" style="cursor:pointer; opacity:1;"></button>
        <div class="header__title--wrap">
            <a href="{% url 'index' %}" ><button class ="header__title-black icon" style="cursor:pointer;"></button></a>
        </div>
        <button class= "for_loc_center icon"></button>
    </div>
    <!-- end 헤더 부분 -->

    <div class="container">
        <div class="exhibitions">
            <h2>전시회 목록</h2>
            <p id="selected-date">날짜를 선택해주세요.</p>
            <div id="exhibition-list">
                {% if exhibitions %}
                    {% for exhibition in exhibitions %}
                        <div class="exhibition-card" onclick="location.href='{{ window.location.origin }}/{{ exhibition.ExhibitionURL }}';">
                            <h3>{{ exhibition.ExhibitionName }}</h3>
                            <p>전시장: {{ exhibition.Hall_ID__ExhibitionHallDescription }}</p>
                            <p>기간: {{ exhibition.ExhibitionRegistrationDate }} ~ {{ exhibition.ExhibitionClosedDate }}</p>
                        </div>
                    {% endfor %}
                {% else %}
                    <p>전시회가 없습니다.</p>
                {% endif %}
            </div>
        </div>

        <div class="toggle-calendar-button" onclick="toggleCalendar()">
            <i class="fas fa-arrow-up"></i> 달력 보기
        </div>
        <div class="calendar-container" id="calendar-container">
            <div id="calendar"></div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/locales/ko.js"></script> <!-- 달력 한국어 -->
    <script src="{% static 'js/exhibition_calendar.js' %}"></script> <!-- js 파일 -->

</body>
</html>
