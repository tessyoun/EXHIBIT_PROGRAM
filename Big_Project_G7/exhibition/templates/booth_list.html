<!DOCTYPE html>
{% load static %}
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{% static 'css/bass.css' %}" />      
        <link rel="stylesheet" href="{% static 'css/sidebar.css' %}" />     
        <link rel="stylesheet" href="{% static 'css/layout1.css' %}" />    
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
        <title>부스 목록</title>
        <style>
            #booth_list {
                padding-top:80px;
                margin-left:10%;
                margin-right:10%;
                font-size:13px;
            }
            
            .booth-item {
                margin-bottom:20px;
                border-bottom:1px solid #ccc;
                padding-bottom:10px;
            }
            .booth-name {
                cursor: pointer;
                font-weight: bold;
                color: #333;
            }
        </style>
    </head>
    <body>
        <div class="header-sub">
            <button class= "header__button--menu header__button--menu-black icon" style="cursor:pointer; opacity:1;"></button>
            <div class="header__title--wrap">
                <a href="{% url 'index' %}" ><button class ="header__title-black icon" style="cursor:pointer;"></button></a>
            </div>
            <button class= "for_loc_center icon"></button>
        </div>

        <!--부스 목록-->
        <div id='booth_list'>
            <h3>부스 목록</h3>
            <div>
                {% comment %} <input type="text" id="searchInput" onkeyup="searchFAQs()" placeholder="Search for booth.">
                <button onclick="searchFAQs()">Search</button> {% endcomment %}
            </div>
            {% block content %}
                <ul id='boothList'>
                    {% for booth in booths %}
                        <li class="booth-item">
                            <div class="booth" onclick="toggleDetail(this)">
                                <div class='booth-name'>{{booth.booth_name}} | {{booth.company_name}} | {{booth.booth_category}}</div>
                                <div class='booth-detail' style="display: none;"><br>{{booth.background}}<br><br>기능 : {{booth.service}}</div>
                                <div class='booth-edit' style="display:none;"><a href="{% url 'exhibition:detail' booth.booth_id %}" style="text-decoration:none;color:black;">[MORE]</a>
                            </div>
                        </li>
                    {% endfor %}
                </ul>
            {% endblock %}
            </div>
        </div>
        <!-- 사이드바 부분 -->
    <div class="sidebar" data-role="side-bar">
        <div class="sidebar__backdrop"></div>
        <div class="sidebar--wrap">
            <div class="sidebar__header">
                <div class="sidebar__header__menu--wrap">
                    <button class="sidebar__menu--home icon"></button>
                </div>

                <div class="sidebar__header__login--wrap">
                    <div class="sidebar__login__profile"></div>

                    <div class="sidebar__login__info">
                        {% if not user.is_authenticated %}     
                            <a href="{% url 'accounts:login' %}" class="sidebar__login__user--wrap">
                                <p class="sidebar__login--btn"> 로그인을 해주세요. </p>
                            </a>
                        {% else %}
                            <p class="user-type">{{ user.profile.user_type }}</p> 
                            <p class="user-name"><span>{{user}}님!</span></p>
                        {% endif %}
                    </div>
                </div>
            </div>
            <div class="sidebar__menu--wrap">
                <ul class="sidebar__menu--list--wrap">
                    {% if user.is_authenticated %}
                        {% if user.profile.user_type == '기업회원' %}
                            <li class="sidebar__menu--list"><a href="{% url 'accounts:update' %}" class="sidebar__menu--item"> 회원 정보 수정 </a></li>
                            <li class="sidebar__menu--list"><a href="{% url 'exhibition:update' %}" class="sidebar__menu--item"> 부스 정보 수정 </a></li>
                            {% if not user.programs.exists %}
                                <li class="sidebar__menu--list"><a href="{% url 'program_open' %}" class="sidebar__menu--item"> 프로그램 생성 </a></li>
                            {% else %}
                                <li class="sidebar__menu--list"><a href="{% url 'program_manage' %}" class="sidebar__menu--item"> 프로그램 관리 </a></li>
                            {% endif %}
                            <li class="sidebar__menu--list"><a class="sidebar__menu--item"> 부스 예약 현황 </a></li>
                            <li class="sidebar__menu--list"><a class="sidebar__menu--item" id="btn4"> FAQ </a></li>
                            {% if user.is_superuser %}
                                <li class="sidebar__menu--list"><a href='/admin/' class="sidebar__menu--item">관리자 페이지</a></li>
                            {% elif user.is_staff %}
                                <li class="sidebar__menu--list"><a href='/exhibition/booth_list/' class="sidebar__menu--item">부스 목록</a></li>
                            {% endif %}
                        {% else %}
                            <li class="sidebar__menu--list"><a href="{% url 'accounts:update' %}" class="sidebar__menu--item"> 회원 정보 수정 </a></li>
                            <li class="sidebar__menu--list"><a href="{% url 'ticket:ticket_list' %}" class="sidebar__menu--item"> 내 티켓 확인 </a></li>
                            <li class="sidebar__menu--list"><a class="sidebar__menu--item"> 내 예약 확인 </a></li>
                            <li class="sidebar__menu--list"><a class="sidebar__menu--item"> 북마크 </a></li>
                        {% endif %}
                    {% else %}
                        <span> 로그인 후 서비스 이용 가능 </span>
                    {% endif %}
                </ul>
            
                {% if user.is_authenticated %}
                <form class="logout-form" method="post" action="{% url 'accounts:logout' %}?next={{request.path}}">
                    {% csrf_token %}
                    <button type="submit" class="logout-button">로그아웃</button>
                </form>
                {% endif %}
            </div>
        </div>
    </div>
        <script src="{% static 'js/boothlist.js' %}"></script> <!-- boothlist js -->
        <script src="{% static 'js/uiSidebar.js' %}"></script>  <!-- 사이드바 js -->
    </body>
</html>